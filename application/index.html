<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Campos Oficial</title>
    <!-- Bootstrap -->
    <link href="css/bootstrap.min.css" rel="stylesheet">
    <link href="ionicons/css/ionicons.min.css" rel="stylesheet">
    <link rel="icon" href="img/fav.png" type="image/x-icon">
    <!-- main css -->
    <link href="css/style.css" rel="stylesheet">
    <!-- modernizr -->
    <script src="js/modernizr.js"></script>
    <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
      <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->
    <link href="css/style-email.css" rel="stylesheet">
</head>

<body>
    <!-- Preloader -->
    <div id="preloader">
        <div class="pre-container">
            <div class="spinner">
                <div class="double-bounce1"></div>
                <div class="double-bounce2"></div>
            </div>
        </div>
    </div>
    <!-- end Preloader -->

    <div class="container-fluid">
        <!-- box header -->
        <header class="box-header">
            <div class="box-logo">
                <a href=""><img src="img/logo.png" width="240" alt="Logo" class="img-logo"></a>
            </div>
        </header>
        <!-- end box header -->
        <!-- end nav -->  

    </div>

    <!-- main-container -->
    <div class="container main-container">
        <div class="col-md-6 col-md-offset-3 bg-email">
            <h4>
            Faça seu cadastro e fique por dentro do lançamento do maior
            portal de Campos do Jordão
            </h4>
            <form action="3" method="post">
                    <div class="col-md-12">
                        <div class="input-contact">
                            <input type="text" id="nome" name="name" autocomplete="off">
                            <span>Nome</span>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="input-contact">
                            <input type="text" id="email" name="email" autocomplete="off">
                            <span>E-mail</span>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <a href="#" id="enviar" class="btn btn-box">Enviar</a>
                    </div>
                    <div class="col-md-12">
                        <p class="result"></p>
                    </div>
                </form>
        </div>

    </div>
    <!-- end main-container -->

    <!-- footer -->
  
    <!-- end footer -->

    <!-- back to top -->
    <a href="#0" class="cd-top"><i class="ion-android-arrow-up"></i></a>
    <!-- end back to top -->



    <!-- jQuery -->
    <script src="js/jquery-2.1.1.js"></script>
    <!--  plugins -->
    <script src="js/bootstrap.min.js"></script>
    <script src="js/menu.js"></script>
    <script src="js/animated-headline.js"></script>
    <script src="js/isotope.pkgd.min.js"></script>

    <!--  custom script -->
    <script src="js/custom.js"></script>
    <script type="text/javascript">
        function isValidEmailAddress(emailAddress) {
            var pattern = new RegExp(/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?$/i);
            return pattern.test(emailAddress);
        };

        $("#enviar").click(function(){
            if($('#nome').val().length < 3){
                //alert("O campo nome está incompleto");
                $('#nome').focus();
                $(".result").html("O campo nome está incompleto!");
                $(".result").css('background', '#d02424');
                $(".result").fadeIn();
                return false;
            }
            if(!isValidEmailAddress($('#email').val())){
                //alert("Email inválido");
                $('#email').focus();
                $(".result").html("O campo e-mail está inválido!");
                $(".result").css('background', '#d02424');
                $(".result").fadeIn();
                return false;
            }
            $.post("http://camposoficial.com.br/dev/index.php/email/index", { nome: $('#nome').val(), email: $('#email').val() }, function(data) {
                $(".result").html(data);
                $(".result").html("E-mail cadastrado com sucesso!");
                $(".result").css('background', '#589955');
                $(".result").fadeIn();
                $('#email').val("");
                $('#nome').val("");
            });

        });
    </script>
</body>

</html>